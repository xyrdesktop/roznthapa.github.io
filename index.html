<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="FixItNepal offers fast and reliable tech repair services for laptops, desktops, mobiles, iPads, and tablets. Quality service you can count on.">
    <title>FixItNepal | Professional Tech Repair Services</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <style>
        /* Your existing CSS */
    </style>
</head>
<body>
    <header>
        <h1>FixItNepal</h1>
    </header>

    <div id="hero" class="hero section visible">
        <h2>Your Trusted Tech Repair Experts</h2>
        <p>Fast, reliable repairs for laptops, desktops, mobiles, iPads, and tablets. Quality service you can count on.</p>
        <a href="#" class="cta" onclick="navigateTo('repair-selection')">Book a Repair</a>
    </div>

    <div id="repair-selection" class="repair-selection section">
        <h2>Select a Repair Type</h2>
        <div class="repair-options">
            <a href="#" class="repair-option" onclick="navigateTo('brand-selection', 'mobile')" aria-label="Mobile Repair">
                <i class="fas fa-mobile-alt"></i>
                <h3>Mobile Repair</h3>
            </a>
            <a href="#" class="repair-option" onclick="navigateTo('brand-selection', 'laptop')" aria-label="Laptop Repair">
                <i class="fas fa-laptop"></i>
                <h3>Laptop Repair</h3>
            </a>
            <a href="#" class="repair-option" onclick="navigateTo('brand-selection', 'desktop')" aria-label="Desktop Repair">
                <i class="fas fa-desktop"></i>
                <h3>Desktop Repair</h3>
            </a>
            <a href="#" class="repair-option" onclick="navigateTo('brand-selection', 'tablet')" aria-label="iPad & Tablet Repair">
                <i class="fas fa-tablet-alt"></i>
                <h3>iPad & Tablet Repair</h3>
            </a>
        </div>
        <button class="back-button" onclick="navigateTo('hero')">Back</button>
    </div>

    <div id="brand-selection" class="brand-selection section">
        <h2>Select Your Brand</h2>
        <div id="brand-options" class="brand-options">
            <!-- Brands will be dynamically loaded here -->
        </div>
        <button class="back-button" onclick="navigateTo('repair-selection')">Back</button>
    </div>

    <div id="model-selection" class="model-selection section">
        <h2>Select Your Model</h2>
        <div class="model-options" id="modelOptions">
            <!-- Models will be dynamically loaded here -->
        </div>
        <button class="back-button" onclick="navigateTo('brand-selection')">Back</button>
    </div>

    <div id="service-selection" class="service-selection section">
        <h2>Select the Service You Need</h2>
        <div class="service-options">
            <a href="#" class="service-option" onclick="selectService('battery-replacement')">
                <i class="fas fa-battery-half"></i>
                <h3>Battery Replacement</h3>
            </a>
            <a href="#" class="service-option" onclick="selectService('screen-replacement')">
                <i class="fas fa-mobile-alt"></i>
                <h3>Screen Replacement</h3>
            </a>
            <a href="#" class="service-option" onclick="selectService('motherboard-replacement')">
                <i class="fas fa-motherboard"></i>
                <h3>Motherboard Replacement</h3>
            </a>
            <a href="#" class="service-option" onclick="selectService('other-issues')">
                <i class="fas fa-tools"></i>
                <h3>Other Issues</h3>
            </a>
        </div>
        <button class="back-button" onclick="navigateTo('model-selection')">Back</button>
    </div>

    <footer>
        <div class="social-icons">
            <a href="https://www.facebook.com" target="_blank" rel="noopener noreferrer" class="social-icon" aria-label="Facebook"><i class="fab fa-facebook"></i></a>
            <a href="https://www.instagram.com" target="_blank" rel="noopener noreferrer" class="social-icon" aria-label="Instagram"><i class="fab fa-instagram"></i></a>
            <a href="https://www.tiktok.com" target="_blank" rel="noopener noreferrer" class="social-icon" aria-label="TikTok"><i class="fab fa-tiktok"></i></a>
            <a href="https://www.whatsapp.com" target="_blank" rel="noopener noreferrer" class="social-icon" aria-label="WhatsApp"><i class="fab fa-whatsapp"></i></a>
        </div>
        <p>&copy; 2024 FixItNepal. All rights reserved.</p>
    </footer>

    <script>
        // Stack to manage navigation history
        let historyStack = [];

        function navigateTo(sectionId, repairType) {
            // Add the current section to history stack before navigating
            const currentSection = document.querySelector('.section.visible');
            if (currentSection) {
                historyStack.push(currentSection.id);
            }

            // Update section visibility
            document.querySelectorAll('.section').forEach(el => el.classList.remove('visible'));
            document.getElementById(sectionId).classList.add('visible');

            // Handle dynamic content loading
            if (sectionId === 'brand-selection' && repairType) {
                loadBrands(repairType);
            } else if (sectionId === 'model-selection') {
                // Reset or initialize content if needed
            }

            // Update browser history
            history.pushState({ sectionId, repairType }, '', `#${sectionId}`);
        }

        function goBack() {
            if (historyStack.length > 0) {
                const prevSectionId = historyStack.pop();
                navigateTo(prevSectionId);
            } else {
                // Optionally handle case when there's no history
                navigateTo('hero'); // Default fallback
            }
        }

        function loadBrands(repairType) {
            const brandOptions = {
                mobile: ['Apple', 'Samsung', 'OnePlus', 'Xiaomi'],
                laptop: ['Apple', 'Samsung', 'ASUS', 'Acer', 'Dell', 'Lenovo', 'HP', 'MSI', 'Razer', 'Microsoft Surface', 'Chromebook'],
                desktop: ['ASUS', 'Acer', 'Dell', 'Lenovo', 'HP', 'MSI', 'Razer', 'Microsoft Surface', 'Chromebook'],
                tablet: ['Apple', 'Samsung', 'Microsoft Surface']
            };

            const icons = {
                mobile: 'fas fa-mobile-alt',
                laptop: 'fas fa-laptop',
                desktop: 'fas fa-desktop',
                tablet: 'fas fa-tablet-alt'
            };

            const brandContainer = document.getElementById('brand-options');
            brandContainer.innerHTML = '';

            (brandOptions[repairType] || []).forEach(brand => {
                const div = document.createElement('div');
                div.className = 'brand-option';
                div.innerHTML = `<i class="${icons[repairType]}"></i><h3>${brand}</h3>`;
                div.onclick = () => loadModels(brand);
                brandContainer.appendChild(div);
            });
        }

        function loadModels(brand) {
            const models = {
                'Apple': ['iPhone 12', 'iPhone 13', 'MacBook Air'],
                'Samsung': ['Galaxy S21', 'Galaxy Tab'],
                'OnePlus': ['OnePlus 8', 'OnePlus 9'],
                'Xiaomi': ['Mi 11', 'Redmi Note 10'],
                'ASUS': ['ROG Zephyrus', 'VivoBook'],
                'Acer': ['Predator Helios', 'Aspire 5'],
                'Dell': ['XPS 13', 'Inspiron 15'],
                'Lenovo': ['ThinkPad X1', 'IdeaPad 3'],
                'HP': ['Spectre x360', 'Envy 13'],
                'MSI': ['GS66 Stealth', 'Creator 15'],
                'Razer': ['Blade 15', 'Blade Stealth'],
                'Microsoft Surface': ['Surface Pro 7', 'Surface Laptop 4'],
                'Chromebook': ['Chromebook Spin 713', 'Chromebook Flip']
            };

            const modelOptions = document.getElementById('modelOptions');
            modelOptions.innerHTML = '';

            (models[brand] || []).forEach(model => {
                const div = document.createElement('div');
                div.className = 'model-option';
                div.innerHTML = `<h3>${model}</h3>`;
                div.onclick = () => navigateTo('service-selection');
                modelOptions.appendChild(div);
            });

            navigateTo('model-selection');
        }

        function selectService(serviceType) {
            alert(`Selected service: ${serviceType}`);
        }

        window.addEventListener('popstate', (event) => {
            if (event.state) {
                navigateTo(event.state.sectionId, event.state.repairType);
            } else {
                navigateTo('hero');
            }
        });
    </script>
</body>
</html>
